
local tbl = {
    [1072] = "%D0%B0",
    [1073] = "%D0%B1",
    [1074] = "%D0%B2",
    [1075] = "%D0%B3",
    [1076] = "%D0%B4",
    [1077] = "%D0%B5",
    [1105] = "%D1%91",
    [1078] = "%D0%B6",
    [1079] = "%D0%B7",
    [1080] = "%D0%B8",
    [1081] = "%D0%B9",
    [1082] = "%D0%BA",
    [1083] = "%D0%BB",
    [1084] = "%D0%BC",
    [1085] = "%D0%BD",
    [1086] = "%D0%BE",
    [1087] = "%D0%BF",
    [1088] = "%D1%80",
    [1089] = "%D1%81",
    [1090] = "%D1%82",
    [1091] = "%D1%83",
    [1092] = "%D1%84",
    [1093] = "%D1%85",
    [1094] = "%D1%86",
    [1095] = "%D1%87",
    [1096] = "%D1%88",
    [1097] = "%D1%89",
    [1098] = "%D1%8A",
    [1099] = "%D1%8B",
    [1100] = "%D1%8C",
    [1101] = "%D1%8D",
    [1102] = "%D1%8E",
    [1103] = "%D1%8F",
    [1040] = "%D0%90",
    [1041] = "%D0%91",
    [1042] = "%D0%92",
    [1043] = "%D0%93",
    [1044] = "%D0%94",
    [1045] = "%D0%95",
    [1025] = "%D0%81",
    [1046] = "%D0%96",
    [1047] = "%D0%97",
    [1048] = "%D0%98",
    [1049] = "%D0%99",
    [1050] = "%D0%9A",
    [1051] = "%D0%9B",
    [1052] = "%D0%9C",
    [1053] = "%D0%9D",
    [1054] = "%D0%9E",
    [1055] = "%D0%9F",
    [1056] = "%D0%A0",
    [1057] = "%D0%A1",
    [1058] = "%D0%A2",
    [1059] = "%D0%A3",
    [1060] = "%D0%A4",
    [1061] = "%D0%A5",
    [1062] = "%D0%A6",
    [1063] = "%D0%A7",
    [1064] = "%D0%A8",
    [1065] = "%D0%A9",
    [1066] = "%D0%AA",
    [1067] = "%D0%AB",
    [1068] = "%D0%AC",
    [1069] = "%D0%AD",
    [1070] = "%D0%AE",
    [1071] = "%D0%AF",
    [63] = "%3F",
    [38] = "%26"
}

local function stringToUrl(str) 
    local url = ""

    for p, c in utf8.codes(str) do
        url = url .. (tbl[c] or utf8.char(c))
    end

    return url
end
